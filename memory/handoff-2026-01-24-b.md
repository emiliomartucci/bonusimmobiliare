# Handoff 2026-01-24 (sessione 2)

## Summary
Implementate favicon con dark mode support e centralized head injection. Aggiornati comandi design e knowledge base con questa best practice.

## Cosa e cambiato

### Favicon
- `/src/favicon/`: 17 file PNG/SVG per light e dark mode
- `/src/favicon/site.webmanifest`: PWA manifest
- `/src/js/head-common.js`: Script injection centralizzata

### HTML
- Tutte le 17 pagine hanno `<script src="/js/head-common.js"></script>` in head
- Rimossi tag favicon inline dai file modificati precedentemente

### Knowledge Base
- `/kb/frontend-patterns.md`: Nuovo file con pattern centralized head injection
- `/CLAUDE.md`: Aggiunto riferimento a frontend-patterns.md

### Comandi Design
- `/design-new-site.md`: Aggiunto step 5.5b per head-common.js
- `/design-new-interface.md`: Aggiunto riferimento a frontend-patterns.md
- `/review-design.md`: Aggiunto check per centralized head injection

## Decisioni Prese
- **Centralized injection vs inline**: Scelto script JS che inietta favicon invece di copiarli in ogni HTML. Motivo: manutenibilita (1 file vs 17)
- **Dark mode favicon**: SVG con media query per supportare tema OS

## Come testare
1. Vai su https://bonusimmobiliare.it
2. Verifica favicon nel tab browser
3. Cambia tema OS (dark/light) e ricarica: favicon deve cambiare

## Prossimi step
- v3: Calcolatori interattivi

## File Chiave Creati
| File | Scopo |
|------|-------|
| src/js/head-common.js | Inietta favicon, theme-color, manifest |
| src/favicon/site.webmanifest | PWA manifest |
| kb/frontend-patterns.md | Pattern centralized head injection |
